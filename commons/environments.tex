% minted listing & cleveref settings

\SetupFloatingEnvironment{listing}{name=Listing}
\captionsetup[listing]{position=top,skip=-8pt}
\floatname{listing}{Listing}
\AtEndEnvironment{listing}{\vspace{-14pt}}

\DeclareFloatingEnvironment[
    name=Algorithm,
    listname={List of Algorithms},
    placement=h,
    within=section
]{algorithm}
\captionsetup[algorithm]{position=top,skip=-8pt}
\floatname{algorithm}{Algorithm}
\AtEndEnvironment{algorithm}{\vspace{-14pt}}

\DeclareFloatingEnvironment[
    name=Query,
    listname={List of Queries},
    placement=h,
    within=section
]{query}
\captionsetup[query]{position=top,skip=-8pt}
\floatname{query}{Query}
\AtEndEnvironment{query}{\vspace{-14pt}}

\providecommand{\listofqueries}{\listof{query}{\listofqueriescaption}}

\AtBeginEnvironment{snugshade*}{\vspace{-\FrameSep}}
\AfterEndEnvironment{snugshade*}{\vspace{-\FrameSep}}

\AtBeginEnvironment{minted}{\renewcommand{\fcolorbox}[4][]{#4}}

% Add frames above and below the minted environment
%%begin novalidate
\BeforeBeginEnvironment{minted}{\begin{mdframed}[rightline=false,leftline=false,linewidth=0.6pt]}
\AfterEndEnvironment{minted}{\end{mdframed}}
%%end novalidate

\setminted{fontsize=\footnotesize,mathescape,autogobble,breaklines,tabsize=4}
\newminted{cypher}{fontsize=\footnotesize,mathescape,linenos,autogobble,texcomments=true,breaklines}
\newminted{python}{fontsize=\footnotesize,mathescape,linenos,autogobble,python3,escapeinside=||}
\newminted[longpythoncode]{python}{fontsize=\footnotesize,mathescape,linenos,autogobble,python3,escapeinside=||,frame=lines}

\newcommand{\pyf}[1]{\textcolor{blue}{#1}}
\newcommand{\pyc}[1]{\textcolor{blue}{\textbf{#1}}}

\newtcolorbox{todo}[2][]{colback=amber100, colframe=amber800, fonttitle=\sffamily, adjusted title={\faClipboardCheck~\textbf{#2}},#1}